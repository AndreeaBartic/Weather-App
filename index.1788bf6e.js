!function(){function t(t){var e="?image_type=photo&category=travel&orientation=horizontal&q=".concat(encodeURIComponent(t),"&page=1&per_page=40");return fetch("https://pixabay.com/api/"+e+"&key=40060920-6840b24aaee2d2997514145f9").then((function(t){if(!t.ok)throw new Error("Network response was not ok");return t.json()})).then((function(t){if(t.hits&&t.hits.length){var e=Math.floor(Math.random()*t.hits.length);return t.hits[e].largeImageURL}throw new Error("No images found.")}))}function e(){var t=new Date,e=document.getElementById("dayDisplay"),n=document.getElementById("monthDisplay"),o=document.getElementById("timeDisplay"),r=document.getElementById("sunriseDisplay"),a=document.getElementById("sunsetDisplay"),c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getDay()],i=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],u=t.getDate(),l=t.getHours(),s=t.getMinutes(),d=t.getSeconds(),h="".concat(l.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0"),":").concat(d.toString().padStart(2,"0")),g=f(u);function f(t){if(t>=11&&t<=13)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}e.textContent="".concat(u).concat(g," ").concat(c),n.textContent="".concat(i),o.textContent=h,navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){var n=t.coords,o=n.latitude,i=n.longitude;fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(o,"&lon=").concat(i,"&appid=").concat("384cfe62d8b3ed2e8a555db347025eef")).then((function(t){return t.json()})).then((function(t){var n="\n          <h3>".concat(u,'<sup class="exponent">').concat(f(u),"</sup> ").concat(c,"</h3>\n        ");e.innerHTML=n;var o=new Date(1e3*t.sys.sunrise).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),i=new Date(1e3*t.sys.sunset).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});r.textContent="".concat(o),a.textContent="".concat(i)})).catch((function(t){return console.error("Error fetching data from OpenWeatherMap:",t)}))}))}var n="07aed853a2b3116bf7e19dfeee63b968";document.addEventListener("DOMContentLoaded",(function(){console.log("DOMContentLoaded fired");var o=document.querySelector(".search-bar"),r=document.querySelector(".search-bar_input"),a=document.querySelector(".search-bar_favorites-icon"),c=document.querySelector(".favorites_list"),i=document.querySelector(".favorites_prev-btn"),u=document.querySelector(".favorites_next-btn");o.addEventListener("submit",(function(t){t.preventDefault();var e=r.value.trim();e&&l(e)})),a.addEventListener("click",(function(){var t=r.value.trim();this.classList.toggle("selected"),t&&!function(t){var e=c.querySelectorAll(".favorites_item"),n=!0,o=!1,r=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){if(a.value.textContent.trim().toLowerCase()===t.toLowerCase())return!0}}catch(t){o=!0,r=t}finally{try{n||null==i.return||i.return()}finally{if(o)throw r}}return!1}(t)&&function(t){var e=document.createElement("li");e.classList.add("favorites_item"),e.textContent=t;var n=document.createElement("span");n.classList.add("close-button"),n.textContent="x",n.addEventListener("click",(function(){e.remove()})),e.appendChild(n),c.appendChild(e)}(t)}));function l(e){var o="https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=").concat(n);fetch(o).then((function(t){return t.json()})).then((function(n){200===n.cod?t(e).then((function(t){console.log("Fetched Image URL:",t),document.body.style.backgroundImage="url(".concat(t,")"),document.body.style.backgroundSize="cover",document.body.style.backgroundPosition="center",document.body.style.backgroundRepeat="no-repeat";var o=n.timezone/3600;document.body.style.height="954px",updateTimeForCity(e),updateTimeWithTimeZone(o)})).catch((function(t){console.error("Error fetching city image:",t)})):alert(n.message)})).catch((function(t){console.error("Error fetching weather data:",t)}))}i.addEventListener("click",(function(){c.scrollBy({left:-100,top:0,behavior:"smooth"})})),u.addEventListener("click",(function(){c.scrollBy({left:100,top:0,behavior:"smooth"})})),e();!function(){console.log("findCityLocation called");var t=function(t){console.log("Location access allowed");var e=t.coords.latitude,o=t.coords.longitude,r="http://api.openweathermap.org/geo/1.0/reverse?lat=".concat(e,"&lon=").concat(o,"&appid=").concat(n);console.log("Latitude:",e,"Longitude:",o),fetch(r).then((function(t){return t.json()})).then((function(t){if(t&&t.length>0){var e=t[0].name;console.log("Resolved City:",e),l(e)}else console.error("City not found.")})).catch((function(t){console.error("Error fetching city name:",t)}))},e=function(){console.error("Could not get location.")};navigator.geolocation.getCurrentPosition(t,e),document.querySelector(".search-bar_location-icon").addEventListener("click",(function(){console.log("Location icon clicked"),navigator.geolocation.getCurrentPosition(t,e)}))}()}))}();
//# sourceMappingURL=index.1788bf6e.js.map
