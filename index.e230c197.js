!function(){function e(e){var t="?image_type=photo&category=travel&orientation=horizontal&q=".concat(encodeURIComponent(e),"&page=1&per_page=40");return fetch("https://pixabay.com/api/"+t+"&key=40060920-6840b24aaee2d2997514145f9").then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((function(e){if(e.hits&&e.hits.length){var t=Math.floor(Math.random()*e.hits.length);return e.hits[t].largeImageURL}throw new Error("No images found.")}))}function t(e){var t=document.getElementById("sunriseDisplay"),o=document.getElementById("sunsetDisplay");if(e){fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=").concat("384cfe62d8b3ed2e8a555db347025eef")).then((function(e){return e.json()})).then((function(e){if(200===e.cod){var n=new Date(1e3*e.sys.sunrise).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),r=new Date(1e3*e.sys.sunset).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});t.textContent="".concat(n),o.textContent="".concat(r)}else console.error("Error fetching data for city:",e.message)})).catch((function(e){return console.error("Error fetching data from OpenWeatherMap:",e)}))}else console.error("City name is missing.")}function o(e){var t=new Date,o=e.locationTimezone/3600,n=e.timezone/3600,r=t.getHours(),c=0;o>n?o>=0?n>=0?c=-1*(o-n):n<0&&(c=-1*(o+(n*=-1))):o<0&&n<0&&(c=-1*((o*=-1)-(n*=-1))):n>o&&(o>=0?c=n-o:o<0&&(c=n+(o*=-1))),c>=0?r+c>=24?r=c-(24-r):r+=c:c<0&&(r+c<0?r=24-((c*=-1)-r):r-=c*=-1);var a=String(r).padStart(2,"0"),i=String(t.getMinutes()).padStart(2,"0"),s=String(t.getSeconds()).padStart(2,"0");document.querySelector(".dateDisplay__hour").textContent="".concat(a,":").concat(i,":").concat(s)}var n="07aed853a2b3116bf7e19dfeee63b968";document.addEventListener("DOMContentLoaded",(function(){console.log("DOMContentLoaded fired");var r=document.querySelector(".search-bar"),c=document.querySelector(".search-bar_input"),a=document.querySelector(".search-bar_favorites-icon"),i=document.querySelector(".favorites_list"),s=document.querySelector(".favorites_prev-btn"),l=document.querySelector(".favorites_next-btn");r.addEventListener("submit",(function(e){e.preventDefault();var t=c.value.trim();t&&u(t)})),a.addEventListener("click",(function(){var e=c.value.trim();this.classList.toggle("selected"),e&&!function(e){var t=i.querySelectorAll(".favorites_item"),o=!0,n=!1,r=void 0;try{for(var c,a=t[Symbol.iterator]();!(o=(c=a.next()).done);o=!0){if(c.value.textContent.trim().toLowerCase()===e.toLowerCase())return!0}}catch(e){n=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(n)throw r}}return!1}(e)&&function(e){var t=document.createElement("li");t.classList.add("favorites_item"),t.textContent=e;var o=document.createElement("span");o.classList.add("close-button"),o.textContent="x",o.addEventListener("click",(function(){t.remove()})),t.appendChild(o),i.appendChild(t)}(e)}));function u(r){var c="https://api.openweathermap.org/data/2.5/weather?q=".concat(r,"&appid=").concat(n);fetch(c).then((function(e){return e.json()})).then((function(n){200===n.cod?e(r).then((function(e){console.log("Fetched Image URL:",e),document.body.style.backgroundImage="url(".concat(e,")"),document.body.style.backgroundSize="cover",document.body.style.backgroundPosition="center",document.body.style.backgroundRepeat="no-repeat",document.body.style.height="954px",t(r),o(n)})).catch((function(e){console.error("Error fetching city image:",e)})):alert(n.message)})).catch((function(e){console.error("Error fetching weather data:",e)}))}s.addEventListener("click",(function(){i.scrollBy({left:-100,top:0,behavior:"smooth"})})),l.addEventListener("click",(function(){i.scrollBy({left:100,top:0,behavior:"smooth"})}));!function(){console.log("findCityLocation called");var e=function(e){console.log("Location access allowed");var t=e.coords.latitude,o=e.coords.longitude,r="https://api.openweathermap.org/geo/1.0/reverse?lat=".concat(t,"&lon=").concat(o,"&appid=").concat(n);fetch(r).then((function(e){return e.json()})).then((function(e){if(e&&e.length>0){var t=e[0].name;console.log("Resolved City:",t),u(t)}else console.error("City not found.")})).catch((function(e){console.error("Error fetching city name:",e)}))},t=function(){console.error("Could not get location.")};navigator.geolocation.getCurrentPosition(e,t),document.querySelector(".search-bar_location-icon").addEventListener("click",(function(){console.log("Location icon clicked"),navigator.geolocation.getCurrentPosition(e,t)}))}()}))}();
//# sourceMappingURL=index.e230c197.js.map
