{"mappings":"YAAO,SAASA,EAAeC,GAC7B,IACMC,EAAc,gDAAsEC,OAAtBF,EAAS,eAA4BE,OADlF,8CACkF,eAEzG,OAAOC,MAAMF,GACVG,MAAK,SAAAC,G,OAAYA,EAASC,M,IAC1BF,MAAK,SAAAG,GACJ,GAAIA,GAAQA,EAAKC,SAAWD,EAAKC,QAAQC,OAAS,EAChD,OAAOF,EAAKC,QAAQ,GAAGE,KAAKC,KAE9B,MAAM,IAAIC,MAAM,qC,ICRtBC,SAASC,iBAAiB,oBAAoB,WAC5C,IAAMC,EAAOF,SAASG,cAAc,eAC9BC,EAAiBJ,SAASG,cAAc,qBACxCE,EAAWL,SAASG,cAAc,8BAClCG,EAAgBN,SAASG,cAAc,mBACvCI,EAAoBP,SAASG,cAAc,uBAC3CK,EAAqBR,SAASG,cAAc,uBAElDD,EAAKD,iBAAiB,UAAU,SAAUQ,GACxCA,EAAMC,iBACN,IAAMvB,EAAWiB,EAAeO,MAAMC,OAClCzB,GA8BN,SAAsBA,GACpB,IAAM0B,EAAS,mCACTC,EAAM,qDAAuEzB,OAAlBF,EAAS,WAAgBE,OAAPwB,GACnFvB,MAAMwB,GACHvB,MAAK,SAAAC,G,OAAYA,EAASC,M,IAC1BF,MAAK,SAAAG,GACa,MAAbA,EAAKqB,IACP7B,EAAeC,GACZI,MAAK,SAAAyB,GACJhB,SAASiB,KAAKC,MAAMC,gBAAkB,OAAgB9B,OAAT2B,EAAS,KACtDhB,SAASiB,KAAKC,MAAME,eAAiB,QACrCpB,SAASiB,KAAKC,MAAMG,mBAAqB,SACzCrB,SAASiB,KAAKC,MAAMI,iBAAmB,W,IAExCC,OAAM,SAAAC,GACLC,QAAQD,MAAM,6BAA8BA,E,IAGhDE,MAAMhC,EAAKiC,Q,IAGdJ,OAAM,SAAAC,GACLC,QAAQD,MAAM,+BAAgCA,E,IAnDhDI,CAAazC,E,IAIjBkB,EAASJ,iBAAiB,SAAS,WACjC,IAAMd,EAAWiB,EAAeO,MAAMC,OACtCiB,KAAKC,UAAUC,OAAO,YAClB5C,IAgDN,SAA2BA,GACzB,IAAM6C,EAAQ1B,EAAc2B,iBAAiB,mBACxCC,GAAQ,EAARC,GAAQ,EAARC,OAAQC,E,IAAb,QAAKC,EAAAC,EAAYP,EAAKQ,OAAAC,cAAjBP,GAAAI,EAAAC,EAAQG,QAAAC,MAART,GAAQ,EAAW,CACtB,GADGI,EAAQ3B,MACFiC,YAAYhC,OAAOiC,gBAAkB1D,EAAS0D,cACrD,OAAO,C,WAFNV,GAAQ,EAARC,EAAQU,C,aAARZ,GAAQ,MAARK,EAAQQ,QAARR,EAAQQ,Q,YAARZ,E,MAAAC,C,EAKL,OAAO,C,CAvDUY,CAAkB7D,IA0DrC,SAAwBA,GACtB,IAAM8D,EAAWjD,SAASkD,cAAc,MACxCD,EAASnB,UAAUqB,IAAI,kBACvBF,EAASL,YAAczD,EAEvB,IAAMiE,EAAcpD,SAASkD,cAAc,QAC3CE,EAAYtB,UAAUqB,IAAI,gBAC1BC,EAAYR,YAAc,IAC1BQ,EAAYnD,iBAAiB,SAAS,WACpCgD,EAASI,Q,IAGXJ,EAASK,YAAYF,GACrB9C,EAAcgD,YAAYL,E,CAtExBM,CAAepE,E,IAKnBoB,EAAkBN,iBAAiB,SAAS,WAC1CK,EAAckD,SAAS,CACrBC,MAHkB,IAIlBC,IAAK,EACLC,SAAU,U,IAIdnD,EAAmBP,iBAAiB,SAAS,WAC3CK,EAAckD,SAAS,CACrBC,KAXkB,IAYlBC,IAAK,EACLC,SAAU,U","sources":["src/background.js","src/search-bar.js"],"sourcesContent":["export function fetchCityImage(cityName) {\n  const unsplashApiKey = '3eLdLI3McT-xMd_k4uMgU6VIED8TAquFAmIAMFjfgHU';\n  const unsplashUrl = `https://api.unsplash.com/search/photos?query=${cityName}&client_id=${unsplashApiKey}&per_page=1`;\n\n  return fetch(unsplashUrl)\n    .then(response => response.json())\n    .then(data => {\n      if (data && data.results && data.results.length > 0) {\n        return data.results[0].urls.full;\n      }\n      throw new Error('No image found for the given city.');\n    });\n}\n","import { fetchCityImage } from './background.js';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  const form = document.querySelector('.search-bar');\n  const searchBarInput = document.querySelector('.search-bar_input');\n  const starIcon = document.querySelector('.search-bar_favorites-icon');\n  const favoritesList = document.querySelector('.favorites_list');\n  const favoritesLeftIcon = document.querySelector('.favorites_prev-btn');\n  const favoritesRightIcon = document.querySelector('.favorites_next-btn');\n\n  form.addEventListener('submit', function (event) {\n    event.preventDefault();\n    const cityName = searchBarInput.value.trim();\n    if (cityName) {\n      fetchWeather(cityName);\n    }\n  });\n\n  starIcon.addEventListener('click', function () {\n    const cityName = searchBarInput.value.trim();\n    this.classList.toggle('selected');\n    if (cityName && !isCityInFavorites(cityName)) {\n      addToFavorites(cityName);\n    }\n  });\n\n  const SCROLL_AMOUNT = 100;\n  favoritesLeftIcon.addEventListener('click', function () {\n    favoritesList.scrollBy({\n      left: -SCROLL_AMOUNT,\n      top: 0,\n      behavior: 'smooth',\n    });\n  });\n\n  favoritesRightIcon.addEventListener('click', function () {\n    favoritesList.scrollBy({\n      left: SCROLL_AMOUNT,\n      top: 0,\n      behavior: 'smooth',\n    });\n  });\n\n  function fetchWeather(cityName) {\n    const apiKey = '07aed853a2b3116bf7e19dfeee63b968';\n    const url = `https://api.openweathermap.org/data/2.5/weather?q=${cityName}&appid=${apiKey}`;\n    fetch(url)\n      .then(response => response.json())\n      .then(data => {\n        if (data.cod === 200) {\n          fetchCityImage(cityName)\n            .then(imageUrl => {\n              document.body.style.backgroundImage = `url(${imageUrl})`;\n              document.body.style.backgroundSize = 'cover';\n              document.body.style.backgroundPosition = 'center';\n              document.body.style.backgroundRepeat = 'no-repeat';\n            })\n            .catch(error => {\n              console.error('Error fetching city image:', error);\n            });\n        } else {\n          alert(data.message);\n        }\n      })\n      .catch(error => {\n        console.error('Error fetching weather data:', error);\n      });\n  }\n\n  function isCityInFavorites(cityName) {\n    const items = favoritesList.querySelectorAll('.favorites_item');\n    for (let item of items) {\n      if (item.textContent.trim().toLowerCase() === cityName.toLowerCase()) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  function addToFavorites(cityName) {\n    const listItem = document.createElement('li');\n    listItem.classList.add('favorites_item');\n    listItem.textContent = cityName;\n\n    const closeButton = document.createElement('span');\n    closeButton.classList.add('close-button');\n    closeButton.textContent = 'x';\n    closeButton.addEventListener('click', function () {\n      listItem.remove();\n    });\n\n    listItem.appendChild(closeButton);\n    favoritesList.appendChild(listItem);\n  }\n});\n"],"names":["$48659db332377dd8$export$a9bd09813a73c79a","cityName","unsplashUrl","concat","fetch","then","response","json","data","results","length","urls","full","Error","document","addEventListener","form","querySelector","searchBarInput","starIcon","favoritesList","favoritesLeftIcon","favoritesRightIcon","event","preventDefault","value","trim","apiKey","url","cod","imageUrl","body","style","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","catch","error","console","alert","message","fetchWeather","this","classList","toggle","items","querySelectorAll","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","textContent","toLowerCase","err","return","isCityInFavorites","listItem","createElement","add","closeButton","remove","appendChild","addToFavorites","scrollBy","left","top","behavior"],"version":3,"file":"index.216593ee.js.map"}